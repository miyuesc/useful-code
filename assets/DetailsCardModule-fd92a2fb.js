import{v as L,h as g,r as x,i as X,d as j,j as z,k as $,l as U,m as W,p as Y,t as P,n as M,q as A,e as m,a as H,c as J,u as Z}from"./index-7f5ecc6e.js";import{c as K,u as ee}from"./light-af3cf1f6.js";import{i as te,p as C,u as B,a as ne,V as re,f as se,g as ae,b as oe,N as le,c as ie}from"./Tooltip-e6e73ffc.js";function de(t){if(typeof t=="number")return{"":t.toString()};const n={};return t.split(/ +/).forEach(s=>{if(s==="")return;const[r,e]=s.split(":");e===void 0?n[""]=r:n[r]=e}),n}function D(t,n){var s;if(t==null)return;const r=de(t);if(n===void 0)return r[""];if(typeof n=="string")return(s=r[n])!==null&&s!==void 0?s:r[""];if(Array.isArray(n)){for(let e=n.length-1;e>=0;--e){const a=n[e];if(a in r)return r[a]}return r[""]}else{let e,a=-1;return Object.keys(r).forEach(o=>{const l=Number(o);!Number.isNaN(l)&&n>=l&&l>=a&&(a=l,e=r[o])}),e}}function ue(t){var n;const s=(n=t.dirs)===null||n===void 0?void 0:n.find(({dir:r})=>r===L);return!!(s&&s.value===!1)}const fe={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function pe(t){return`(min-width: ${t}px)`}const E={};function ce(t=fe){if(!te)return g(()=>[]);if(typeof window.matchMedia!="function")return g(()=>[]);const n=x({}),s=Object.keys(t),r=(e,a)=>{e.matches?n.value[a]=!0:n.value[a]=!1};return s.forEach(e=>{const a=t[e];let o,l;E[a]===void 0?(o=window.matchMedia(pe(a)),o.addEventListener?o.addEventListener("change",u=>{l.forEach(d=>{d(u,e)})}):o.addListener&&o.addListener(u=>{l.forEach(d=>{d(u,e)})}),l=new Set,E[a]={mql:o,cbs:l}):(o=E[a].mql,l=E[a].cbs),l.add(r),o.matches&&l.forEach(u=>{u(o,e)})}),X(()=>{s.forEach(e=>{const{cbs:a}=E[t[e]];a.has(r)&&a.delete(r)})}),g(()=>{const{value:e}=n;return s.filter(a=>e[a])})}const O=1,F=K("n-grid"),q=1,ve={span:{type:[Number,String],default:q},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},V=j({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:ve,setup(){const{isSsrRef:t,xGapRef:n,itemStyleRef:s,overflowRef:r,layoutShiftDisabledRef:e}=z(F),a=U();return{overflow:r,itemStyle:s,layoutShiftDisabled:e,mergedXGap:g(()=>C(n.value||0)),deriveStyle:()=>{t.value;const{privateSpan:o=q,privateShow:l=!0,privateColStart:u=void 0,privateOffset:d=0}=a.vnode.props,{value:b}=n,y=C(b||0);return{display:l?"":"none",gridColumn:`${u??`span ${o}`} / span ${o}`,marginLeft:d?`calc((100% - (${o} - 1) * ${y}) / ${o} * ${d} + ${y} * ${d})`:""}}}},render(){var t,n;if(this.layoutShiftDisabled){const{span:s,offset:r,mergedXGap:e}=this;return $("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:r?`calc((100% - (${s} - 1) * ${e}) / ${s} * ${r} + ${e} * ${r})`:""}},this.$slots)}return $("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(t=this.$slots).default)===null||n===void 0?void 0:n.call(t,{overflow:this.overflow}))}}),he={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},Q=24,I="__ssr__",me={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:Q},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},ye=j({name:"Grid",inheritAttrs:!1,props:me,setup(t){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=ee(t),r=/^\d+$/,e=x(void 0),a=ce((s==null?void 0:s.value)||he),o=B(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),l=g(()=>{if(o.value)return t.responsive==="self"?e.value:a.value}),u=B(()=>{var f;return(f=Number(D(t.cols.toString(),l.value)))!==null&&f!==void 0?f:Q}),d=B(()=>D(t.xGap.toString(),l.value)),b=B(()=>D(t.yGap.toString(),l.value)),y=f=>{e.value=f.contentRect.width},v=f=>{oe(y,f)},p=x(!1),h=g(()=>{if(t.responsive==="self")return v}),c=x(!1),R=x();return W(()=>{const{value:f}=R;f&&f.hasAttribute(I)&&(f.removeAttribute(I),c.value=!0)}),Y(F,{layoutShiftDisabledRef:P(t,"layoutShiftDisabled"),isSsrRef:c,itemStyleRef:P(t,"itemStyle"),xGapRef:d,overflowRef:p}),{isSsr:!ne,contentEl:R,mergedClsPrefix:n,style:g(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:C(t.xGap),rowGap:C(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${u.value}, minmax(0, 1fr))`,columnGap:C(d.value),rowGap:C(b.value)}),isResponsive:o,responsiveQuery:l,responsiveCols:u,handleResize:h,overflow:p}},render(){if(this.layoutShiftDisabled)return $("div",M({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var n,s,r,e,a,o,l;this.overflow=!1;const u=se(ae(this)),d=[],{collapsed:b,collapsedRows:y,responsiveCols:v,responsiveQuery:p}=this;u.forEach(i=>{var G,_,S,w;if(((G=i==null?void 0:i.type)===null||G===void 0?void 0:G.__GRID_ITEM__)!==!0)return;if(ue(i)){const N=A(i);N.props?N.props.privateShow=!1:N.props={privateShow:!1},d.push({child:N,rawChildSpan:0});return}i.dirs=((_=i.dirs)===null||_===void 0?void 0:_.filter(({dir:N})=>N!==L))||null;const T=A(i),k=Number((w=D((S=T.props)===null||S===void 0?void 0:S.span,p))!==null&&w!==void 0?w:O);k!==0&&d.push({child:T,rawChildSpan:k})});let h=0;const c=(n=d[d.length-1])===null||n===void 0?void 0:n.child;if(c!=null&&c.props){const i=(s=c.props)===null||s===void 0?void 0:s.suffix;i!==void 0&&i!==!1&&(h=(e=(r=c.props)===null||r===void 0?void 0:r.span)!==null&&e!==void 0?e:O,c.props.privateSpan=h,c.props.privateColStart=v+1-h,c.props.privateShow=(a=c.props.privateShow)!==null&&a!==void 0?a:!0)}let R=0,f=!1;for(const{child:i,rawChildSpan:G}of d){if(f&&(this.overflow=!0),!f){const _=Number((l=D((o=i.props)===null||o===void 0?void 0:o.offset,p))!==null&&l!==void 0?l:0),S=Math.min(G+_,v);if(i.props?(i.props.privateSpan=S,i.props.privateOffset=_):i.props={privateSpan:S,privateOffset:_},b){const w=R%v;S+w>v&&(R+=v-w),S+R+h>y*v?f=!0:R+=S}}f&&(i.props?i.props.privateShow!==!0&&(i.props.privateShow=!1):i.props={privateShow:!1})}return $("div",M({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[I]:this.isSsr||void 0},this.$attrs),d.map(({child:i})=>i))};return this.isResponsive&&this.responsive==="self"?$(re,{onResize:this.handleResize},{default:t}):t()}});const Se=j({name:"DetailsCard",props:{details:{type:Object,default:()=>({})},padding:{type:[String,Array],default:"8px 16px"},gridProps:{type:Object,default:()=>({})},prop:{type:Object,default:()=>({})},labelPrefix:{type:String,default:"："}},setup(t,{slots:n}){const s=g(()=>{if(!t.details)return[];const e=[];return Object.keys(t.prop).reduce((a,o,l)=>{let u,d,b,y,v;const p=t.prop[o];if(typeof p=="string")u=p+t.labelPrefix,d=(t.details[o]||"-").toString();else{u=p.label+t.labelPrefix,b=p.render,y=p.hidden,v=p.onlyRender;const h=p.format;d=h&&typeof h=="function"?(h(o,t.details[o])||"-").toString():(t.details[o]||"-").toString()}return!y&&a.push({index:l,label:u,value:d,render:b,onlyRender:v}),a},e)}),r=g(()=>{const e=t.padding;return typeof e=="string"?{padding:e}:{padding:e.join(" ")}});return()=>m("div",{class:"detail-info-board",style:r.value},[m(ye,t.gridProps,{default:()=>[n.append&&n.append(),s.value.map(e=>e.onlyRender?m(V,{class:"info-item-content"},{default:()=>[e.render&&e.render(e)]}):m(V,{class:"info-item-content"},{default:()=>[m("div",{class:"info-content_label"},[e.label]),e.value&&e.value.length<32?m("div",{class:"info-content_value"},[e.value,e.render&&e.render(e)]):m("div",{class:"info-content_value"},[m(le,null,{default:()=>e.value,trigger:()=>m("div",{class:"info-content_value"},[e.value])}),e.render&&e.render(e)])]})),n.prepend&&n.prepend()]})])}}),ge={class:"demo-page-container"},xe=j({__name:"DetailsCardModule",setup(t){const n=x({productId:"产品ID",nodeType:{label:"节点类型"},protocolType:{label:"接入协议"},reserveProductNo:"接入产品ID",netWorkMethod:{label:"联网方式"},syncState:{label:"同步状态",hidden:!1,render(){return $(ie,{},()=>"同步")}},connectType:{label:"连接方式"},prdCode:{label:"产品类别"},placeType:{label:"内外场类型"},cipher:"产品密钥",createDt:"创建时间",updateDt:"修改时间",description:"产品描述"}),s=x({cmiotExistFlag:!1,syncToCmiot:!1,productId:"Pro20220900013",reserveProductNo:"20220900013",productName:"车道信息",nodeType:4,netWorkMethod:1,protocolType:1,authenticationMethod:null,deviceNum:0,description:null,createDt:"2022-09-19 17:09:18",prdCode:"1536",connectType:0,picUrl:null,placeType:null,cipher:"96lcV0jvG2wsvD31azSFac743xLByx10eexOwj4k",syncState:null,updateDt:"2022-09-19 17:09:18",otherFlag:!0,icon:null});return(r,e)=>(H(),J("div",ge,[m(Z(Se),{details:s.value,prop:n.value,"grid-props":{cols:"4 s:2 m:2 l:3 xl:4 2xl:6",responsive:"screen"}},null,8,["details","prop"])]))}});export{xe as default};
