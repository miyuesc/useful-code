import{a1 as F,ac as z,z as g,r as x,ad as U,G as W,d as T,H as Y,ae as $,h as G,af as H,q as J,x as B,T as Z,U as K,v as M,ag as ee,J as A,Y as te,S as ne,a3 as O,b as m,o as re,c as se,u as ae,ah as oe}from"./index-f01f3a89.js";import{g as le}from"./get-slot-1efb97e5.js";import{d as ie}from"./Popover-9002b2fb.js";import{N as de}from"./Tooltip-8b094a7b.js";import"./format-length-c9d165c6.js";function ue(t){if(typeof t=="number")return{"":t.toString()};const n={};return t.split(/ +/).forEach(s=>{if(s==="")return;const[r,e]=s.split(":");e===void 0?n[""]=r:n[r]=e}),n}function C(t,n){var s;if(t==null)return;const r=ue(t);if(n===void 0)return r[""];if(typeof n=="string")return(s=r[n])!==null&&s!==void 0?s:r[""];if(Array.isArray(n)){for(let e=n.length-1;e>=0;--e){const a=n[e];if(a in r)return r[a]}return r[""]}else{let e,a=-1;return Object.keys(r).forEach(o=>{const l=Number(o);!Number.isNaN(l)&&n>=l&&l>=a&&(a=l,e=r[o])}),e}}function fe(t){var n;const s=(n=t.dirs)===null||n===void 0?void 0:n.find(({dir:r})=>r===F);return!!(s&&s.value===!1)}const pe={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ce(t){return`(min-width: ${t}px)`}const E={};function ve(t=pe){if(!z)return g(()=>[]);if(typeof window.matchMedia!="function")return g(()=>[]);const n=x({}),s=Object.keys(t),r=(e,a)=>{e.matches?n.value[a]=!0:n.value[a]=!1};return s.forEach(e=>{const a=t[e];let o,l;E[a]===void 0?(o=window.matchMedia(ce(a)),o.addEventListener?o.addEventListener("change",u=>{l.forEach(d=>{d(u,e)})}):o.addListener&&o.addListener(u=>{l.forEach(d=>{d(u,e)})}),l=new Set,E[a]={mql:o,cbs:l}):(o=E[a].mql,l=E[a].cbs),l.add(r),o.matches&&l.forEach(u=>{u(o,e)})}),U(()=>{s.forEach(e=>{const{cbs:a}=E[t[e]];a.has(r)&&a.delete(r)})}),g(()=>{const{value:e}=n;return s.filter(a=>e[a])})}const V=1,q=W("n-grid"),Q=1,he={span:{type:[Number,String],default:Q},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},L=T({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:he,setup(){const{isSsrRef:t,xGapRef:n,itemStyleRef:s,overflowRef:r,layoutShiftDisabledRef:e}=Y(q),a=H();return{overflow:r,itemStyle:s,layoutShiftDisabled:e,mergedXGap:g(()=>$(n.value||0)),deriveStyle:()=>{t.value;const{privateSpan:o=Q,privateShow:l=!0,privateColStart:u=void 0,privateOffset:d=0}=a.vnode.props,{value:b}=n,S=$(b||0);return{display:l?"":"none",gridColumn:`${u??`span ${o}`} / span ${o}`,marginLeft:d?`calc((100% - (${o} - 1) * ${S}) / ${o} * ${d} + ${S} * ${d})`:""}}}},render(){var t,n;if(this.layoutShiftDisabled){const{span:s,offset:r,mergedXGap:e}=this;return G("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:r?`calc((100% - (${s} - 1) * ${e}) / ${s} * ${r} + ${e} * ${r})`:""}},this.$slots)}return G("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(t=this.$slots).default)===null||n===void 0?void 0:n.call(t,{overflow:this.overflow}))}}),me={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},X=24,I="__ssr__",Se={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:X},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},ye=T({name:"Grid",inheritAttrs:!1,props:Se,setup(t){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=J(t),r=/^\d+$/,e=x(void 0),a=ve((s==null?void 0:s.value)||me),o=B(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),l=g(()=>{if(o.value)return t.responsive==="self"?e.value:a.value}),u=B(()=>{var f;return(f=Number(C(t.cols.toString(),l.value)))!==null&&f!==void 0?f:X}),d=B(()=>C(t.xGap.toString(),l.value)),b=B(()=>C(t.yGap.toString(),l.value)),S=f=>{e.value=f.contentRect.width},v=f=>{ie(S,f)},p=x(!1),h=g(()=>{if(t.responsive==="self")return v}),c=x(!1),R=x();return Z(()=>{const{value:f}=R;f&&f.hasAttribute(I)&&(f.removeAttribute(I),c.value=!0)}),K(q,{layoutShiftDisabledRef:M(t,"layoutShiftDisabled"),isSsrRef:c,itemStyleRef:M(t,"itemStyle"),xGapRef:d,overflowRef:p}),{isSsr:!ee,contentEl:R,mergedClsPrefix:n,style:g(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:$(t.xGap),rowGap:$(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${u.value}, minmax(0, 1fr))`,columnGap:$(d.value),rowGap:$(b.value)}),isResponsive:o,responsiveQuery:l,responsiveCols:u,handleResize:h,overflow:p}},render(){if(this.layoutShiftDisabled)return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var n,s,r,e,a,o,l;this.overflow=!1;const u=ne(le(this)),d=[],{collapsed:b,collapsedRows:S,responsiveCols:v,responsiveQuery:p}=this;u.forEach(i=>{var D,_,y,w,j;if(((D=i==null?void 0:i.type)===null||D===void 0?void 0:D.__GRID_ITEM__)!==!0)return;if(fe(i)){const N=O(i);N.props?N.props.privateShow=!1:N.props={privateShow:!1},d.push({child:N,rawChildSpan:0});return}i.dirs=((_=i.dirs)===null||_===void 0?void 0:_.filter(({dir:N})=>N!==F))||null,((y=i.dirs)===null||y===void 0?void 0:y.length)===0&&(i.dirs=null);const P=O(i),k=Number((j=C((w=P.props)===null||w===void 0?void 0:w.span,p))!==null&&j!==void 0?j:V);k!==0&&d.push({child:P,rawChildSpan:k})});let h=0;const c=(n=d[d.length-1])===null||n===void 0?void 0:n.child;if(c!=null&&c.props){const i=(s=c.props)===null||s===void 0?void 0:s.suffix;i!==void 0&&i!==!1&&(h=Number((e=C((r=c.props)===null||r===void 0?void 0:r.span,p))!==null&&e!==void 0?e:V),c.props.privateSpan=h,c.props.privateColStart=v+1-h,c.props.privateShow=(a=c.props.privateShow)!==null&&a!==void 0?a:!0)}let R=0,f=!1;for(const{child:i,rawChildSpan:D}of d){if(f&&(this.overflow=!0),!f){const _=Number((l=C((o=i.props)===null||o===void 0?void 0:o.offset,p))!==null&&l!==void 0?l:0),y=Math.min(D+_,v);if(i.props?(i.props.privateSpan=y,i.props.privateOffset=_):i.props={privateSpan:y,privateOffset:_},b){const w=R%v;y+w>v&&(R+=v-w),y+R+h>S*v?f=!0:R+=y}}f&&(i.props?i.props.privateShow!==!0&&(i.props.privateShow=!1):i.props={privateShow:!1})}return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[I]:this.isSsr||void 0},this.$attrs),d.map(({child:i})=>i))};return this.isResponsive&&this.responsive==="self"?G(te,{onResize:this.handleResize},{default:t}):t()}});const ge=T({name:"DetailsCard",props:{details:{type:Object,default:()=>({})},padding:{type:[String,Array],default:"8px 16px"},gridProps:{type:Object,default:()=>({})},prop:{type:Object,default:()=>({})},labelPrefix:{type:String,default:"："}},setup(t,{slots:n}){const s=g(()=>{if(!t.details)return[];const e=[];return Object.keys(t.prop).reduce((a,o,l)=>{let u,d,b,S,v;const p=t.prop[o];if(typeof p=="string")u=p+t.labelPrefix,d=(t.details[o]||"-").toString();else{u=p.label+t.labelPrefix,b=p.render,S=p.hidden,v=p.onlyRender;const h=p.format;d=h&&typeof h=="function"?(h(o,t.details[o])||"-").toString():(t.details[o]||"-").toString()}return!S&&a.push({index:l,label:u,value:d,render:b,onlyRender:v}),a},e)}),r=g(()=>{const e=t.padding;return typeof e=="string"?{padding:e}:{padding:e.join(" ")}});return()=>m("div",{class:"detail-info-board",style:r.value},[m(ye,t.gridProps,{default:()=>[n.append&&n.append(),s.value.map(e=>e.onlyRender?m(L,{class:"info-item-content"},{default:()=>[e.render&&e.render(e)]}):m(L,{class:"info-item-content"},{default:()=>[m("div",{class:"info-content_label"},[e.label]),e.value&&e.value.length<32?m("div",{class:"info-content_value"},[e.value,e.render&&e.render(e)]):m("div",{class:"info-content_value"},[m(de,null,{default:()=>e.value,trigger:()=>m("div",{class:"info-content_value"},[e.value])}),e.render&&e.render(e)])]})),n.prepend&&n.prepend()]})])}}),be={class:"demo-page-container"},Ce=T({__name:"DetailsCardModule",setup(t){const n=x({productId:"产品ID",nodeType:{label:"节点类型"},protocolType:{label:"接入协议"},reserveProductNo:"接入产品ID",netWorkMethod:{label:"联网方式"},syncState:{label:"同步状态",hidden:!1,render(){return G(oe,{},()=>"同步")}},connectType:{label:"连接方式"},prdCode:{label:"产品类别"},placeType:{label:"内外场类型"},cipher:"产品密钥",createDt:"创建时间",updateDt:"修改时间",description:"产品描述"}),s=x({cmiotExistFlag:!1,syncToCmiot:!1,productId:"Pro20220900013",reserveProductNo:"20220900013",productName:"车道信息",nodeType:4,netWorkMethod:1,protocolType:1,authenticationMethod:null,deviceNum:0,description:null,createDt:"2022-09-19 17:09:18",prdCode:"1536",connectType:0,picUrl:null,placeType:null,cipher:"96lcV0jvG2wsvD31azSFac743xLByx10eexOwj4k",syncState:null,updateDt:"2022-09-19 17:09:18",otherFlag:!0,icon:null});return(r,e)=>(re(),se("div",be,[m(ae(ge),{details:s.value,prop:n.value,"grid-props":{cols:"4 s:2 m:2 l:3 xl:4 2xl:6",responsive:"screen"}},null,8,["details","prop"])]))}});export{Ce as default};
