import{v as F,h as g,r as x,i as z,d as j,j as U,k as G,l as W,m as Y,p as H,t as M,n as A,q as O,e as m,a as J,c as Z,u as K}from"./index-4ed8affe.js";import{c as ee,u as te}from"./light-f38d87d7.js";import{i as ne,p as $,u as B,a as re,V as se,f as oe,b as ae,N as le}from"./Button-9ceaebeb.js";import{g as ie,N as de}from"./Tooltip-f0abbe90.js";function ue(t){if(typeof t=="number")return{"":t.toString()};const n={};return t.split(/ +/).forEach(s=>{if(s==="")return;const[r,e]=s.split(":");e===void 0?n[""]=r:n[r]=e}),n}function C(t,n){var s;if(t==null)return;const r=ue(t);if(n===void 0)return r[""];if(typeof n=="string")return(s=r[n])!==null&&s!==void 0?s:r[""];if(Array.isArray(n)){for(let e=n.length-1;e>=0;--e){const o=n[e];if(o in r)return r[o]}return r[""]}else{let e,o=-1;return Object.keys(r).forEach(a=>{const l=Number(a);!Number.isNaN(l)&&n>=l&&l>=o&&(o=l,e=r[a])}),e}}function fe(t){var n;const s=(n=t.dirs)===null||n===void 0?void 0:n.find(({dir:r})=>r===F);return!!(s&&s.value===!1)}const pe={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ce(t){return`(min-width: ${t}px)`}const E={};function ve(t=pe){if(!ne)return g(()=>[]);if(typeof window.matchMedia!="function")return g(()=>[]);const n=x({}),s=Object.keys(t),r=(e,o)=>{e.matches?n.value[o]=!0:n.value[o]=!1};return s.forEach(e=>{const o=t[e];let a,l;E[o]===void 0?(a=window.matchMedia(ce(o)),a.addEventListener?a.addEventListener("change",u=>{l.forEach(d=>{d(u,e)})}):a.addListener&&a.addListener(u=>{l.forEach(d=>{d(u,e)})}),l=new Set,E[o]={mql:a,cbs:l}):(a=E[o].mql,l=E[o].cbs),l.add(r),a.matches&&l.forEach(u=>{u(a,e)})}),z(()=>{s.forEach(e=>{const{cbs:o}=E[t[e]];o.has(r)&&o.delete(r)})}),g(()=>{const{value:e}=n;return s.filter(o=>e[o])})}const V=1,q=ee("n-grid"),Q=1,he={span:{type:[Number,String],default:Q},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},L=j({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:he,setup(){const{isSsrRef:t,xGapRef:n,itemStyleRef:s,overflowRef:r,layoutShiftDisabledRef:e}=U(q),o=W();return{overflow:r,itemStyle:s,layoutShiftDisabled:e,mergedXGap:g(()=>$(n.value||0)),deriveStyle:()=>{t.value;const{privateSpan:a=Q,privateShow:l=!0,privateColStart:u=void 0,privateOffset:d=0}=o.vnode.props,{value:b}=n,y=$(b||0);return{display:l?"":"none",gridColumn:`${u??`span ${a}`} / span ${a}`,marginLeft:d?`calc((100% - (${a} - 1) * ${y}) / ${a} * ${d} + ${y} * ${d})`:""}}}},render(){var t,n;if(this.layoutShiftDisabled){const{span:s,offset:r,mergedXGap:e}=this;return G("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:r?`calc((100% - (${s} - 1) * ${e}) / ${s} * ${r} + ${e} * ${r})`:""}},this.$slots)}return G("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(t=this.$slots).default)===null||n===void 0?void 0:n.call(t,{overflow:this.overflow}))}}),me={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},X=24,T="__ssr__",ye={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:X},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Se=j({name:"Grid",inheritAttrs:!1,props:ye,setup(t){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=te(t),r=/^\d+$/,e=x(void 0),o=ve((s==null?void 0:s.value)||me),a=B(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),l=g(()=>{if(a.value)return t.responsive==="self"?e.value:o.value}),u=B(()=>{var f;return(f=Number(C(t.cols.toString(),l.value)))!==null&&f!==void 0?f:X}),d=B(()=>C(t.xGap.toString(),l.value)),b=B(()=>C(t.yGap.toString(),l.value)),y=f=>{e.value=f.contentRect.width},v=f=>{ae(y,f)},p=x(!1),h=g(()=>{if(t.responsive==="self")return v}),c=x(!1),R=x();return Y(()=>{const{value:f}=R;f&&f.hasAttribute(T)&&(f.removeAttribute(T),c.value=!0)}),H(q,{layoutShiftDisabledRef:M(t,"layoutShiftDisabled"),isSsrRef:c,itemStyleRef:M(t,"itemStyle"),xGapRef:d,overflowRef:p}),{isSsr:!re,contentEl:R,mergedClsPrefix:n,style:g(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:$(t.xGap),rowGap:$(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${u.value}, minmax(0, 1fr))`,columnGap:$(d.value),rowGap:$(b.value)}),isResponsive:a,responsiveQuery:l,responsiveCols:u,handleResize:h,overflow:p}},render(){if(this.layoutShiftDisabled)return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var n,s,r,e,o,a,l;this.overflow=!1;const u=oe(ie(this)),d=[],{collapsed:b,collapsedRows:y,responsiveCols:v,responsiveQuery:p}=this;u.forEach(i=>{var D,_,S,w,I;if(((D=i==null?void 0:i.type)===null||D===void 0?void 0:D.__GRID_ITEM__)!==!0)return;if(fe(i)){const N=O(i);N.props?N.props.privateShow=!1:N.props={privateShow:!1},d.push({child:N,rawChildSpan:0});return}i.dirs=((_=i.dirs)===null||_===void 0?void 0:_.filter(({dir:N})=>N!==F))||null,((S=i.dirs)===null||S===void 0?void 0:S.length)===0&&(i.dirs=null);const k=O(i),P=Number((I=C((w=k.props)===null||w===void 0?void 0:w.span,p))!==null&&I!==void 0?I:V);P!==0&&d.push({child:k,rawChildSpan:P})});let h=0;const c=(n=d[d.length-1])===null||n===void 0?void 0:n.child;if(c!=null&&c.props){const i=(s=c.props)===null||s===void 0?void 0:s.suffix;i!==void 0&&i!==!1&&(h=Number((e=C((r=c.props)===null||r===void 0?void 0:r.span,p))!==null&&e!==void 0?e:V),c.props.privateSpan=h,c.props.privateColStart=v+1-h,c.props.privateShow=(o=c.props.privateShow)!==null&&o!==void 0?o:!0)}let R=0,f=!1;for(const{child:i,rawChildSpan:D}of d){if(f&&(this.overflow=!0),!f){const _=Number((l=C((a=i.props)===null||a===void 0?void 0:a.offset,p))!==null&&l!==void 0?l:0),S=Math.min(D+_,v);if(i.props?(i.props.privateSpan=S,i.props.privateOffset=_):i.props={privateSpan:S,privateOffset:_},b){const w=R%v;S+w>v&&(R+=v-w),S+R+h>y*v?f=!0:R+=S}}f&&(i.props?i.props.privateShow!==!0&&(i.props.privateShow=!1):i.props={privateShow:!1})}return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[T]:this.isSsr||void 0},this.$attrs),d.map(({child:i})=>i))};return this.isResponsive&&this.responsive==="self"?G(se,{onResize:this.handleResize},{default:t}):t()}});const ge=j({name:"DetailsCard",props:{details:{type:Object,default:()=>({})},padding:{type:[String,Array],default:"8px 16px"},gridProps:{type:Object,default:()=>({})},prop:{type:Object,default:()=>({})},labelPrefix:{type:String,default:"："}},setup(t,{slots:n}){const s=g(()=>{if(!t.details)return[];const e=[];return Object.keys(t.prop).reduce((o,a,l)=>{let u,d,b,y,v;const p=t.prop[a];if(typeof p=="string")u=p+t.labelPrefix,d=(t.details[a]||"-").toString();else{u=p.label+t.labelPrefix,b=p.render,y=p.hidden,v=p.onlyRender;const h=p.format;d=h&&typeof h=="function"?(h(a,t.details[a])||"-").toString():(t.details[a]||"-").toString()}return!y&&o.push({index:l,label:u,value:d,render:b,onlyRender:v}),o},e)}),r=g(()=>{const e=t.padding;return typeof e=="string"?{padding:e}:{padding:e.join(" ")}});return()=>m("div",{class:"detail-info-board",style:r.value},[m(Se,t.gridProps,{default:()=>[n.append&&n.append(),s.value.map(e=>e.onlyRender?m(L,{class:"info-item-content"},{default:()=>[e.render&&e.render(e)]}):m(L,{class:"info-item-content"},{default:()=>[m("div",{class:"info-content_label"},[e.label]),e.value&&e.value.length<32?m("div",{class:"info-content_value"},[e.value,e.render&&e.render(e)]):m("div",{class:"info-content_value"},[m(de,null,{default:()=>e.value,trigger:()=>m("div",{class:"info-content_value"},[e.value])}),e.render&&e.render(e)])]})),n.prepend&&n.prepend()]})])}}),be={class:"demo-page-container"},Ne=j({__name:"DetailsCardModule",setup(t){const n=x({productId:"产品ID",nodeType:{label:"节点类型"},protocolType:{label:"接入协议"},reserveProductNo:"接入产品ID",netWorkMethod:{label:"联网方式"},syncState:{label:"同步状态",hidden:!1,render(){return G(le,{},()=>"同步")}},connectType:{label:"连接方式"},prdCode:{label:"产品类别"},placeType:{label:"内外场类型"},cipher:"产品密钥",createDt:"创建时间",updateDt:"修改时间",description:"产品描述"}),s=x({cmiotExistFlag:!1,syncToCmiot:!1,productId:"Pro20220900013",reserveProductNo:"20220900013",productName:"车道信息",nodeType:4,netWorkMethod:1,protocolType:1,authenticationMethod:null,deviceNum:0,description:null,createDt:"2022-09-19 17:09:18",prdCode:"1536",connectType:0,picUrl:null,placeType:null,cipher:"96lcV0jvG2wsvD31azSFac743xLByx10eexOwj4k",syncState:null,updateDt:"2022-09-19 17:09:18",otherFlag:!0,icon:null});return(r,e)=>(J(),Z("div",be,[m(K(ge),{details:s.value,prop:n.value,"grid-props":{cols:"4 s:2 m:2 l:3 xl:4 2xl:6",responsive:"screen"}},null,8,["details","prop"])]))}});export{Ne as default};
