import{af as U,E as S,r as x,ag as z,a9 as F,U as W,f as j,V as Y,ah as $,m as G,ai as H,y as J,L as B,g as Z,a2 as K,K as M,aj as ee,Y as A,a4 as te,a1 as ne,ab as O,b as m,o as re,c as se,u as ae,N as oe}from"./index-1acac433.js";import{g as ie}from"./get-slot-1efb97e5.js";import{b as le}from"./Popover-39dfc44c.js";import{N as de}from"./Tooltip-6c84e520.js";import"./format-length-c9d165c6.js";import"./use-merged-state-2d8ec6a7.js";function ue(t){if(typeof t=="number")return{"":t.toString()};const n={};return t.split(/ +/).forEach(s=>{if(s==="")return;const[r,e]=s.split(":");e===void 0?n[""]=r:n[r]=e}),n}function C(t,n){var s;if(t==null)return;const r=ue(t);if(n===void 0)return r[""];if(typeof n=="string")return(s=r[n])!==null&&s!==void 0?s:r[""];if(Array.isArray(n)){for(let e=n.length-1;e>=0;--e){const a=n[e];if(a in r)return r[a]}return r[""]}else{let e,a=-1;return Object.keys(r).forEach(o=>{const i=Number(o);!Number.isNaN(i)&&n>=i&&i>=a&&(a=i,e=r[o])}),e}}const fe={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function pe(t){return`(min-width: ${t}px)`}const E={};function ce(t=fe){if(!U)return S(()=>[]);if(typeof window.matchMedia!="function")return S(()=>[]);const n=x({}),s=Object.keys(t),r=(e,a)=>{e.matches?n.value[a]=!0:n.value[a]=!1};return s.forEach(e=>{const a=t[e];let o,i;E[a]===void 0?(o=window.matchMedia(pe(a)),o.addEventListener?o.addEventListener("change",u=>{i.forEach(d=>{d(u,e)})}):o.addListener&&o.addListener(u=>{i.forEach(d=>{d(u,e)})}),i=new Set,E[a]={mql:o,cbs:i}):(o=E[a].mql,i=E[a].cbs),i.add(r),o.matches&&i.forEach(u=>{u(o,e)})}),z(()=>{s.forEach(e=>{const{cbs:a}=E[t[e]];a.has(r)&&a.delete(r)})}),S(()=>{const{value:e}=n;return s.filter(a=>e[a])})}function ve(t){var n;const s=(n=t.dirs)===null||n===void 0?void 0:n.find(({dir:r})=>r===F);return!!(s&&s.value===!1)}const V=1,Q=W("n-grid"),X=1,he={span:{type:[Number,String],default:X},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},L=j({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:he,setup(){const{isSsrRef:t,xGapRef:n,itemStyleRef:s,overflowRef:r,layoutShiftDisabledRef:e}=Y(Q),a=H();return{overflow:r,itemStyle:s,layoutShiftDisabled:e,mergedXGap:S(()=>$(n.value||0)),deriveStyle:()=>{t.value;const{privateSpan:o=X,privateShow:i=!0,privateColStart:u=void 0,privateOffset:d=0}=a.vnode.props,{value:b}=n,y=$(b||0);return{display:i?"":"none",gridColumn:`${u??`span ${o}`} / span ${o}`,marginLeft:d?`calc((100% - (${o} - 1) * ${y}) / ${o} * ${d} + ${y} * ${d})`:""}}}},render(){var t,n;if(this.layoutShiftDisabled){const{span:s,offset:r,mergedXGap:e}=this;return G("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:r?`calc((100% - (${s} - 1) * ${e}) / ${s} * ${r} + ${e} * ${r})`:""}},this.$slots)}return G("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(t=this.$slots).default)===null||n===void 0?void 0:n.call(t,{overflow:this.overflow}))}}),me={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},q=24,T="__ssr__",ye={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:q},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},ge=j({name:"Grid",inheritAttrs:!1,props:ye,setup(t){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=J(t),r=/^\d+$/,e=x(void 0),a=ce((s==null?void 0:s.value)||me),o=B(()=>!!(t.itemResponsive||!r.test(t.cols.toString())||!r.test(t.xGap.toString())||!r.test(t.yGap.toString()))),i=S(()=>{if(o.value)return t.responsive==="self"?e.value:a.value}),u=B(()=>{var f;return(f=Number(C(t.cols.toString(),i.value)))!==null&&f!==void 0?f:q}),d=B(()=>C(t.xGap.toString(),i.value)),b=B(()=>C(t.yGap.toString(),i.value)),y=f=>{e.value=f.contentRect.width},v=f=>{le(y,f)},p=x(!1),h=S(()=>{if(t.responsive==="self")return v}),c=x(!1),R=x();return Z(()=>{const{value:f}=R;f&&f.hasAttribute(T)&&(f.removeAttribute(T),c.value=!0)}),K(Q,{layoutShiftDisabledRef:M(t,"layoutShiftDisabled"),isSsrRef:c,itemStyleRef:M(t,"itemStyle"),xGapRef:d,overflowRef:p}),{isSsr:!ee,contentEl:R,mergedClsPrefix:n,style:S(()=>t.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${t.cols}, minmax(0, 1fr))`,columnGap:$(t.xGap),rowGap:$(t.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${u.value}, minmax(0, 1fr))`,columnGap:$(d.value),rowGap:$(b.value)}),isResponsive:o,responsiveQuery:i,responsiveCols:u,handleResize:h,overflow:p}},render(){if(this.layoutShiftDisabled)return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const t=()=>{var n,s,r,e,a,o,i;this.overflow=!1;const u=ne(ie(this)),d=[],{collapsed:b,collapsedRows:y,responsiveCols:v,responsiveQuery:p}=this;u.forEach(l=>{var D,_,g,w,I;if(((D=l==null?void 0:l.type)===null||D===void 0?void 0:D.__GRID_ITEM__)!==!0)return;if(ve(l)){const N=O(l);N.props?N.props.privateShow=!1:N.props={privateShow:!1},d.push({child:N,rawChildSpan:0});return}l.dirs=((_=l.dirs)===null||_===void 0?void 0:_.filter(({dir:N})=>N!==F))||null,((g=l.dirs)===null||g===void 0?void 0:g.length)===0&&(l.dirs=null);const P=O(l),k=Number((I=C((w=P.props)===null||w===void 0?void 0:w.span,p))!==null&&I!==void 0?I:V);k!==0&&d.push({child:P,rawChildSpan:k})});let h=0;const c=(n=d[d.length-1])===null||n===void 0?void 0:n.child;if(c!=null&&c.props){const l=(s=c.props)===null||s===void 0?void 0:s.suffix;l!==void 0&&l!==!1&&(h=Number((e=C((r=c.props)===null||r===void 0?void 0:r.span,p))!==null&&e!==void 0?e:V),c.props.privateSpan=h,c.props.privateColStart=v+1-h,c.props.privateShow=(a=c.props.privateShow)!==null&&a!==void 0?a:!0)}let R=0,f=!1;for(const{child:l,rawChildSpan:D}of d){if(f&&(this.overflow=!0),!f){const _=Number((i=C((o=l.props)===null||o===void 0?void 0:o.offset,p))!==null&&i!==void 0?i:0),g=Math.min(D+_,v);if(l.props?(l.props.privateSpan=g,l.props.privateOffset=_):l.props={privateSpan:g,privateOffset:_},b){const w=R%v;g+w>v&&(R+=v-w),g+R+h>y*v?f=!0:R+=g}}f&&(l.props?l.props.privateShow!==!0&&(l.props.privateShow=!1):l.props={privateShow:!1})}return G("div",A({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[T]:this.isSsr||void 0},this.$attrs),d.map(({child:l})=>l))};return this.isResponsive&&this.responsive==="self"?G(te,{onResize:this.handleResize},{default:t}):t()}});const Se=j({name:"DetailsCard",props:{details:{type:Object,default:()=>({})},padding:{type:[String,Array],default:"8px 16px"},gridProps:{type:Object,default:()=>({})},prop:{type:Object,default:()=>({})},labelPrefix:{type:String,default:"："}},setup(t,{slots:n}){const s=S(()=>{if(!t.details)return[];const e=[];return Object.keys(t.prop).reduce((a,o,i)=>{let u,d,b,y,v;const p=t.prop[o];if(typeof p=="string")u=p+t.labelPrefix,d=(t.details[o]||"-").toString();else{u=p.label+t.labelPrefix,b=p.render,y=p.hidden,v=p.onlyRender;const h=p.format;d=h&&typeof h=="function"?(h(o,t.details[o])||"-").toString():(t.details[o]||"-").toString()}return!y&&a.push({index:i,label:u,value:d,render:b,onlyRender:v}),a},e)}),r=S(()=>{const e=t.padding;return typeof e=="string"?{padding:e}:{padding:e.join(" ")}});return()=>m("div",{class:"detail-info-board",style:r.value},[m(ge,t.gridProps,{default:()=>[n.append&&n.append(),s.value.map(e=>e.onlyRender?m(L,{class:"info-item-content"},{default:()=>[e.render&&e.render(e)]}):m(L,{class:"info-item-content"},{default:()=>[m("div",{class:"info-content_label"},[e.label]),e.value&&e.value.length<32?m("div",{class:"info-content_value"},[e.value,e.render&&e.render(e)]):m("div",{class:"info-content_value"},[m(de,null,{default:()=>e.value,trigger:()=>m("div",{class:"info-content_value"},[e.value])}),e.render&&e.render(e)])]})),n.prepend&&n.prepend()]})])}}),be={class:"demo-page-container"},$e=j({__name:"DetailsCardModule",setup(t){const n=x({productId:"产品ID",nodeType:{label:"节点类型"},protocolType:{label:"接入协议"},reserveProductNo:"接入产品ID",netWorkMethod:{label:"联网方式"},syncState:{label:"同步状态",hidden:!1,render(){return G(oe,{},()=>"同步")}},connectType:{label:"连接方式"},prdCode:{label:"产品类别"},placeType:{label:"内外场类型"},cipher:"产品密钥",createDt:"创建时间",updateDt:"修改时间",description:"产品描述"}),s=x({cmiotExistFlag:!1,syncToCmiot:!1,productId:"Pro20220900013",reserveProductNo:"20220900013",productName:"车道信息",nodeType:4,netWorkMethod:1,protocolType:1,authenticationMethod:null,deviceNum:0,description:null,createDt:"2022-09-19 17:09:18",prdCode:"1536",connectType:0,picUrl:null,placeType:null,cipher:"96lcV0jvG2wsvD31azSFac743xLByx10eexOwj4k",syncState:null,updateDt:"2022-09-19 17:09:18",otherFlag:!0,icon:null});return(r,e)=>(re(),se("div",be,[m(ae(Se),{details:s.value,prop:n.value,"grid-props":{cols:"4 s:2 m:2 l:3 xl:4 2xl:6",responsive:"screen"}},null,8,["details","prop"])]))}});export{$e as default};
